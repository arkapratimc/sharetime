(()=>{var e={539:e=>{e.exports={postJson:async function(e,t){try{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const e=await n.text();throw new Error(`HTTP error! status: ${n.status}, message: ${e||"No specific error message provided."}`)}return await n.json()}catch(e){throw console.error("Error in postJson function:",e),e}},convertTimeToNumberString:function(e){return e.replace(":","")}}}},t={};const{postJson:n,convertTimeToNumberString:o}=function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(539),r=Intl.DateTimeFormat().resolvedOptions().timeZone,s=Intl.supportedValuesOf("timeZone"),i=document.getElementById("country");for(const e of s){const t=document.createElement("option");t.value=e,t.textContent=e,i.appendChild(t)}const c=document.querySelector("#localTime"),a=document.querySelector("#country"),d=document.querySelector("#view-results"),l=document.querySelector("#result"),m=document.getElementById("copyBox"),u=document.getElementById("copyStatus");d.addEventListener("click",async e=>{if(e.preventDefault(),""!==c.value.trim())try{const e=a.value,t=await n("/api/submit-form",{time_to_view:c.value.trim(),target_time_zone:a.value,userTimeZone:r});l.innerHTML="";const s=document.createElement("h2");s.textContent=`Time in ${e}`;const i=document.createElement("p");i.textContent=`${t.receivedData.SOURCE_TIME}`,i.classList.add("center-text");const d=document.createElement("h2");d.textContent=`Time in ${r}`;const p=document.createElement("p");p.textContent=`${t.receivedData.TIME_IN_USERS_ZONE}`,p.classList.add("center-text"),m.textContent=`${window.location.origin}/${e}/${o(c.value.trim())}`,m.classList.remove("display-none"),m.classList.add("display-block"),u.classList.remove("display-none"),u.classList.add("display-block"),l.appendChild(s),l.appendChild(i),l.appendChild(d),l.appendChild(p)}catch(e){console.error("Error submitting data:",e.message)}else alert("Please enter a time")}),m.addEventListener("click",function(){const e=this.textContent;navigator.clipboard.writeText(e).then(()=>{const e=document.getElementById("copyStatus");e.textContent="Copied!",setTimeout(()=>{e.textContent=""},1500)})})})();